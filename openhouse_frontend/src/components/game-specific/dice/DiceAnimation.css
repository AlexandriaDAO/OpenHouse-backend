/* Multi-Dice Animation Styles */

/* Container for all dice */
.multi-dice-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 240px;
  position: relative;
  background: transparent;
  transition: transform 0.2s ease;
}

.multi-dice-container.cursor-pointer:active {
  transform: scale(0.98);
}

/* Row of dice - always horizontal */
.dice-row {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 16px;
}

/* Wrapper for individual dice - handles scaling */
.single-dice-wrapper {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Dice-like container - uses CSS custom property for scaling */
.dice-box {
  width: calc(200px * var(--dice-scale, 1));
  height: calc(200px * var(--dice-scale, 1));
  background: #FFFFFF;
  border: 4px solid #000000;
  border-radius: calc(24px * var(--dice-scale, 1));
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 0 20px rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
}

/* Hover effect on container - only when clickable */
.multi-dice-container.cursor-pointer:hover .dice-box {
  transform: scale(1.05);
  box-shadow: 0 0 40px rgba(45, 212, 191, 0.5), 0 0 15px rgba(255, 255, 255, 0.8);
  border-color: #2DD4BF;
  background: #F0FDFA;
}

/* Subtle shake during rolling */
.dice-box.rolling {
  animation: dice-shake 0.1s infinite;
  border-color: #2DD4BF;
  box-shadow: 0 0 30px rgba(45, 212, 191, 0.3);
}

@keyframes dice-shake {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  25% { transform: translateY(-3px) rotate(-1deg); }
  50% { transform: translateY(0) rotate(0deg); }
  75% { transform: translateY(-3px) rotate(1deg); }
}

/* Landing animation - bounce and scale */
.dice-box.result-landed {
  animation: dice-land 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
}

/* Win state - green glow */
.dice-box.result-landed.win {
  border-color: #22C55E;
  box-shadow: 0 0 30px rgba(34, 197, 94, 0.5);
}

/* Lose state - red glow */
.dice-box.result-landed.lose {
  border-color: #EF4444;
  box-shadow: 0 0 30px rgba(239, 68, 68, 0.3);
}

@keyframes dice-land {
  0% {
    transform: scale(0.85) rotate(-5deg);
  }
  50% {
    transform: scale(1.1) rotate(2deg);
  }
  100% {
    transform: scale(1) rotate(0deg);
  }
}

/* Number display inside dice */
.number-display {
  font-family: 'JetBrains Mono', monospace;
  font-size: calc(4.5rem * var(--dice-scale, 1));
  font-weight: 900;
  color: #000000;
  user-select: none;
  text-align: center;
}

/* Result glow - positioned behind dice */
.result-glow {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: calc(260px * var(--dice-scale, 1));
  height: calc(260px * var(--dice-scale, 1));
  border-radius: 50%;
  animation: pulse-glow 1.5s ease-in-out infinite;
  pointer-events: none;
  z-index: -1;
}

.result-glow.glow-win {
  background: radial-gradient(circle, rgba(34, 197, 94, 0.4) 0%, transparent 70%);
}

.result-glow.glow-lose {
  background: radial-gradient(circle, rgba(239, 68, 68, 0.25) 0%, transparent 70%);
}

@keyframes pulse-glow {
  0%, 100% {
    opacity: 0.4;
    transform: translate(-50%, -50%) scale(1);
  }
  50% {
    opacity: 0.8;
    transform: translate(-50%, -50%) scale(1.15);
  }
}

/* Result summary text */
.result-summary {
  margin-top: 12px;
  text-align: center;
}

.summary-text {
  font-family: 'JetBrains Mono', monospace;
  font-size: 1.25rem;
  font-weight: 700;
  padding: 4px 12px;
  border-radius: 8px;
}

.summary-text.has-wins {
  color: #22C55E;
  background: rgba(34, 197, 94, 0.15);
}

.summary-text.no-wins {
  color: #EF4444;
  background: rgba(239, 68, 68, 0.15);
}

/* Mobile sizing */
@media (max-width: 768px) {
  .multi-dice-container {
    height: 180px;
  }

  .dice-row {
    gap: 8px;
  }

  .dice-box {
    width: calc(140px * var(--dice-scale, 1));
    height: calc(140px * var(--dice-scale, 1));
    border-radius: calc(18px * var(--dice-scale, 1));
  }

  .number-display {
    font-size: calc(3.5rem * var(--dice-scale, 1));
  }

  .result-glow {
    width: calc(180px * var(--dice-scale, 1));
    height: calc(180px * var(--dice-scale, 1));
  }

  .summary-text {
    font-size: 1rem;
  }
}

/* Extra small screens - tighter gap */
@media (max-width: 480px) {
  .dice-row {
    gap: 4px;
  }

  /* For 3 dice on very small screens, scale down further */
  .multi-dice-container.dice-count-3 .dice-box {
    width: calc(100px * var(--dice-scale, 1));
    height: calc(100px * var(--dice-scale, 1));
  }

  .multi-dice-container.dice-count-3 .number-display {
    font-size: calc(2.5rem * var(--dice-scale, 1));
  }
}

@media (prefers-reduced-motion: reduce) {
  .dice-box.rolling,
  .dice-box.result-landed,
  .result-glow {
    animation: none;
  }
}

/* Legacy support - single dice container class */
.dice-container {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 240px;
  position: relative;
  background: transparent;
}
